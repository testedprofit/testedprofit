<!-- External Scripts & Styles for Shopify Custom Liquid -->
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<!-- Added Playfair Display to the font import -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">

<style>
    /* --- MERGED STYES FOR SHOPIFY --- */
    #profitnet-section-wrapper {
        --primary-dark: #0A091B;
        --secondary-dark: #1A1838;
        --card-bg: rgba(26, 24, 56, 0.4);
        --border-color: rgba(255, 255, 255, 0.1);
        --text-light: #E5E7EB;
        --text-muted: #9CA3AF;
        --accent-blue: #60A5FA;
        --accent-teal: #2DD4BF;
        --accent-cyan: #38BDF8;
        --accent-gold: #FACC15;
        --accent-green: #34D399;
        --accent-red: #F87171;
        --shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        --font-family: 'Inter', sans-serif;
        font-family: var(--font-family);
        color: var(--text-light);
        background-color: var(--primary-dark);
        line-height: 1.6;
        position: relative;
    }

    #profitnet-section-wrapper::before {
        content: '';
        position: absolute; /* Changed from fixed to absolute */
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: 
            radial-gradient(circle at 10% 20%, rgba(96, 165, 250, 0.15), transparent 35%),
            radial-gradient(circle at 80% 90%, rgba(45, 212, 191, 0.15), transparent 35%);
        z-index: 1; /* Adjusted z-index */
        animation: move-aurora 20s infinite alternate;
        pointer-events: none;
    }
    
    #profitnet-section-wrapper > * {
        position: relative;
        z-index: 2;
    }


    @keyframes move-aurora {
        0% { transform: translate(0, 0) scale(1); opacity: 0.7; }
        50% { opacity: 1; }
        100% { transform: translate(20px, 30px) scale(1.1); opacity: 0.7; }
    }
    
    .gradient-text {
        background: linear-gradient(90deg, var(--accent-green), var(--accent-blue));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    .cta-button {
        background: linear-gradient(90deg, var(--accent-green), var(--accent-blue));
        transition: all 0.3s ease;
    }
    .cta-button:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 10px 20px rgba(16, 185, 129, 0.25), 0 6px 6px rgba(59, 130, 246, 0.25);
    }
    .card-bg {
        background-color: rgba(255, 255, 255, 0.03);
        border: 1px solid var(--border-color);
        transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    .card-bg:hover {
        background-color: rgba(255, 255, 255, 0.07);
        border-color: rgba(255, 255, 255, 0.2);
    }
    .glass-effect {
        background: rgba(10, 9, 27, 0.7);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-bottom: 1px solid var(--border-color);
    }
    .faq-answer {
        transition: all 0.3s ease-in-out;
        max-height: 0;
        overflow: hidden;
    }
    .faq-answer.open {
        max-height: 200px; /* Adjust if needed for longer answers */
    }

    .dashboard-container {
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 40px 0;
    }
    .dashboard-container h1, .dashboard-container h2, .dashboard-container h3 { margin: 0; line-height: 1.2; font-weight: 700; color: #fff; }
    .dashboard-container h1 { font-size: 2.75rem; margin-bottom: 0.25em; }
    .dashboard-container h2 { font-size: 2rem; margin: 0.5em 0; }
    .dashboard-container h3 { font-size: 1.5rem; margin-bottom: 0.3em; }
    .dashboard-container p { margin: 0.5em 0; color: #cbd5e1; }
    .dashboard-card {
        background: var(--card-bg);
        border: 1px solid var(--border-color);
        border-radius: 16px;
        padding: 24px;
        box-shadow: var(--shadow);
        transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
    }
    .dashboard-card:hover { transform: translateY(-5px); box-shadow: 0 15px 50px rgba(0, 0, 0, 0.7); border-color: rgba(255, 255, 255, 0.2); }
    .holders { margin-top: 50px; }
    .holders .dashboard-card { position: relative; overflow: hidden; }
    
    /* Custom Scrollbar for Leaderboard */
    .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 4px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 4px;
    }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.3);
    }


    /* --- NEW TOKENOMICS SECTION STYLES --- */
    /* Scoped styles for the container */
    #profitnet-tokenomics-container {
        font-family: 'Inter', sans-serif;
    }

    #profitnet-tokenomics-container .font-display {
        font-family: 'Playfair Display', serif;
    }
    
    /* Tokenomics Gradient text */
    .tokenomics-gradient-text {
        background: linear-gradient(90deg, #2dd4bf, #67e8f9);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-fill-color: transparent;
    }

    /* Improved vault card styles with glow effect */
    .vault-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    }

    .vault-card:hover, .vault-card:focus-visible {
        transform: translateY(-6px) scale(1.02);
        outline: none;
    }
    .vault-card.border-blue-400:hover, .vault-card.border-blue-400:focus-visible { box-shadow: 0 0 20px 0 rgba(96, 165, 250, 0.4); }
    .vault-card.border-purple-500:hover, .vault-card.border-purple-500:focus-visible { box-shadow: 0 0 20px 0 rgba(168, 85, 247, 0.4); }
    .vault-card.border-yellow-400:hover, .vault-card.border-yellow-400:focus-visible { box-shadow: 0 0 20px 0 rgba(250, 204, 21, 0.4); }
    .vault-card.border-orange-400:hover, .vault-card.border-orange-400:focus-visible { box-shadow: 0 0 20px 0 rgba(251, 146, 60, 0.4); }
    .vault-card.border-green-400:hover, .vault-card.border-green-400:focus-visible { box-shadow: 0 0 20px 0 rgba(74, 222, 128, 0.4); }
    .vault-card.border-red-500:hover, .vault-card.border-red-500:focus-visible { box-shadow: 0 0 20px 0 rgba(239, 68, 68, 0.4); }
    .vault-card.border-indigo-500:hover, .vault-card.border-indigo-500:focus-visible { box-shadow: 0 0 20px 0 rgba(129, 140, 248, 0.4); }
    .vault-card.border-slate-600:hover, .vault-card.border-slate-600:focus-visible { box-shadow: 0 0 20px 0 rgba(100, 116, 139, 0.4); }
    .vault-card.border-pink-500:hover, .vault-card.border-pink-500:focus-visible { box-shadow: 0 0 20px 0 rgba(236, 72, 153, 0.4); }
    .vault-card.border-cyan-500:hover, .vault-card.border-cyan-500:focus-visible { box-shadow: 0 0 20px 0 rgba(6, 182, 212, 0.4); }


    /* Dynamic SVG Donut Chart */
    .donut-chart-svg {
        transform: rotate(-90deg);
    }
    .donut-track {
        stroke: #374151; /* gray-700 */
    }
    .donut-progress {
        stroke: #34D399; /* emerald-400 */
        stroke-linecap: round;
        transition: stroke-dashoffset 2s cubic-bezier(0.25, 1, 0.5, 1);
    }

    /* Fluid grid for vault cards */
    .vault-grid-fluid {
        display: grid;
        gap: 1rem;
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    }

    /* Smooth transition for modal */
    #vault-modal {
        transition: opacity 0.3s ease-in-out, backdrop-filter 0.3s ease-in-out;
    }
    #modal-panel {
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.2s ease-out;
    }
    
    /* Smooth transition for partnership vaults */
    #partnership-vaults {
        transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out, margin-top 0.5s ease-in-out;
        max-height: 0;
        opacity: 0;
        overflow: hidden;
    }
    #partnership-vaults.open {
        max-height: 500px; /* Adjust if more content is added */
        opacity: 1;
        margin-top: 1rem;
    }

    /* Chevron rotation for toggle button */
    #partnership-toggle-btn .chevron {
        transition: transform 0.3s ease-in-out;
    }
    #partnership-toggle-btn[aria-expanded="true"] .chevron {
        transform: rotate(180deg);
    }

    /* Custom Background for Tokenomics Section Only */
    .tokenomics-bg-section {
        background-color: #020617; /* slate-950 */
        background-image:
            linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
        background-size: 30px 30px;
    }

</style>

<div id="profitnet-section-wrapper">
    <!-- NEW: Sticky Header -->
    <header class="fixed w-full top-0 z-50 bg-slate-900/80 backdrop-blur-md border-b border-slate-700/50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="flex items-center space-x-2">
                <img src="https://emerald-urgent-cuckoo-166.mypinata.cloud/ipfs/bafybeibelhobbfhgcur4j5qmnzvnjlfkpwawy3rttzdnfr4t22ikcj263m" alt="Profitnet Logo" class="h-8 w-8 object-contain">
                <span class="text-xl font-bold gradient-text">Profitnet</span>
            </a>
            <nav class="flex space-x-6">
                <a href="#tokenomics" class="text-sm font-medium text-gray-300 hover:text-white transition-colors">Tokenomics</a>
                <a href="#dashboard" class="text-sm font-medium text-gray-300 hover:text-white transition-colors">Leaderboard</a>
                <a href="#faq" class="text-sm font-medium text-gray-300 hover:text-white transition-colors">FAQ</a>
                <a href="#community" class="text-sm font-medium text-gray-300 hover:text-white transition-colors">Community</a>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="relative min-h-screen flex flex-col items-center justify-center pt-32 pb-20 overflow-hidden">
            <div class="absolute inset-0 bg-grid-gray-700/[0.05] [mask-image:linear-gradient(to_bottom,white_5%,transparent_80%)]"></div>
            
            <div class="container mx-auto px-6 text-center z-10">
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold text-white leading-tight mb-4">
                    Unlock Your Digital Earnings
                </h1>
                <p class="text-lg md:text-xl text-gray-400 max-w-3xl mx-auto mb-10">
                    Profitnet bridges the gap between Web2.0 earning platforms and Web3.0 utility, creating a sustainable, community-driven token ecosystem.
                </p>

                <!-- Hero Content: Earn Cards -->
                <div class="mb-16">
                    <h2 class="text-2xl font-bold text-white mb-8">Start Earning with Our Partners</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mx-auto">
                        <!-- Honeygain -->
                        <div class="card-bg rounded-2xl p-6 flex flex-col items-center text-center hover:shadow-2xl hover:shadow-emerald-500/10 transition-shadow duration-300">
                            <img src="https://logo.clearbit.com/honeygain.com" alt="Honeygain Logo" class="w-20 h-20 rounded-full mb-4 object-contain bg-white p-1">
                            <h3 class="text-xl font-bold text-white mb-2">Honeygain</h3>
                            <p class="text-gray-400 text-sm mb-4 flex-grow">Share your unused internet connection and get paid. A simple way to earn passive income effortlessly.</p>
                            <a href="https://join.honeygain.com/TESTE927D4/" target="_blank" rel="noopener noreferrer" class="cta-button w-full text-white font-semibold py-2 px-4 rounded-lg">
                                Join Honeygain
                            </a>
                        </div>
                        <!-- Swagbucks -->
                        <div class="card-bg rounded-2xl p-6 flex flex-col items-center text-center hover:shadow-2xl hover:shadow-blue-500/10 transition-shadow duration-300">
                            <img src="https://logo.clearbit.com/swagbucks.com" alt="Swagbucks Logo" class="w-20 h-20 rounded-full mb-4 object-contain bg-white p-1">
                            <h3 class="text-xl font-bold text-white mb-2">Swagbucks</h3>
                            <p class="text-gray-400 text-sm mb-4 flex-grow">Earn points by shopping online, watching videos, searching the web, and answering surveys.</p>
                            <a href="https://www.swagbucks.com/profile/r_219527912?rp=3" target="_blank" rel="noopener noreferrer" class="cta-button w-full text-white font-semibold py-2 px-4 rounded-lg">
                                Join Swagbucks
                            </a>
                        </div>
                        <!-- EarnApp -->
                        <div class="card-bg rounded-2xl p-6 flex flex-col items-center text-center hover:shadow-2xl hover:shadow-purple-500/10 transition-shadow duration-300">
                           <img src="https://logo.clearbit.com/earnapp.com" alt="EarnApp Logo" class="w-20 h-20 rounded-full mb-4 object-contain bg-white p-1">
                            <h3 class="text-xl font-bold text-white mb-2">EarnApp</h3>
                            <p class="text-gray-400 text-sm mb-4 flex-grow">Another great platform to earn passive income by sharing your unused bandwidth.</p>
                            <a href="https://earnapp.com/i/iqBdX9xU" target="_blank" rel="noopener noreferrer" class="cta-button w-full text-white font-semibold py-2 px-4 rounded-lg">
                                Join EarnApp
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- START: INTEGRATED TOKENOMICS SECTION -->
        <section id="tokenomics" class="tokenomics-bg-section w-full min-h-screen flex items-center justify-center p-4">
             <div id="profitnet-tokenomics-container" class="w-full max-w-6xl mx-auto">
                <div class="w-full bg-slate-900/70 backdrop-blur-xl rounded-2xl p-6 sm:p-8 lg:p-12 shadow-2xl border border-slate-700/50 relative overflow-hidden">
                    <!-- Background glow element -->
                    <div class="absolute top-0 left-0 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-teal-500/10 rounded-full blur-3xl -z-10"></div>
                    <div class="absolute bottom-0 right-0 translate-x-1/2 translate-y-1/2 w-[500px] h-[500px] bg-blue-500/10 rounded-full blur-3xl -z-10"></div>
                    
                    <div class="flex flex-col lg:flex-row gap-12 items-center">
                        
                        <!-- Left Column: Text Content -->
                        <div class="flex flex-col w-full lg:w-1/2 flex-shrink-0">
                            <h2 class="text-sm font-bold uppercase tracking-widest text-teal-400">PROFITNET TOKENOMICS</h2>
                            <h1 class="font-display text-4xl md:text-5xl font-bold text-white mt-2 mb-2 tokenomics-gradient-text">Allocation Details</h1>
                            <p class="mt-2 mb-6 text-gray-400 max-w-prose">Our tokenomics are designed for long-term stability and sustainable growth. Key allocations are locked and vested over extended periods to ensure community and team alignment.</p>
                            <ul class="space-y-4 text-gray-300">
                                <li class="flex items-start">
                                    <svg class="w-6 h-6 text-teal-400 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                    <div><strong class="text-white">Supply Lock:</strong> 25% of PNET is locked until September 2026.</div>
                                </li>
                                <!-- Countdown Timer -->
                                <li class="flex items-start pl-9">
                                    <div class="w-full bg-slate-800/50 rounded-lg p-3 text-center">
                                        <p class="text-xs text-teal-300 font-semibold tracking-wider uppercase mb-2">Unlocks In</p>
                                        <div id="countdown-timer" class="flex justify-center space-x-2 sm:space-x-4">
                                                <div class="text-center"><div class="text-xl sm:text-2xl font-bold text-white" id="days">0</div><div class="text-xs text-gray-400">Days</div></div>
                                                <div class="text-white text-xl sm:text-2xl font-bold pt-px">:</div>
                                                <div class="text-center"><div class="text-xl sm:text-2xl font-bold text-white" id="hours">0</div><div class="text-xs text-gray-400">Hours</div></div>
                                                <div class="text-white text-xl sm:text-2xl font-bold pt-px">:</div>
                                                <div class="text-center"><div class="text-xl sm:text-2xl font-bold text-white" id="minutes">0</div><div class="text-xs text-gray-400">Minutes</div></div>
                                                <div class="text-white text-xl sm:text-2xl font-bold pt-px">:</div>
                                                <div class="text-center"><div class="text-xl sm:text-2xl font-bold text-white" id="seconds">0</div><div class="text-xs text-gray-400">Seconds</div></div>
                                        </div>
                                    </div>
                                </li>
                                <li class="flex items-start">
                                     <svg class="w-6 h-6 text-teal-400 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                    <div><strong class="text-white">Dev Wallet Vesting:</strong> 15% of supply is distributed gradually over 10 years.</div>
                                </li>
                                <li class="flex items-start">
                                    <svg class="w-6 h-6 text-teal-400 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                    <div><strong class="text-white">Long-Term Lock:</strong> A significant portion of the TVL is locked for 10 years, verifiable on-chain.</div>
                                </li>
                            </ul>
                        </div>

                        <!-- Right Column: Chart and Vaults -->
                        <div class="flex flex-col items-center w-full lg:w-1/2">
                            <!-- Donut Chart -->
                            <div class="relative w-64 h-64">
                                 <svg class="donut-chart-svg w-full h-full" viewBox="0 0 200 200">
                                    <circle class="donut-track" cx="100" cy="100" r="90" fill="transparent" stroke-width="20"></circle>
                                    <circle id="donut-progress-circle" class="donut-progress" cx="100" cy="100" r="90" fill="transparent" stroke-width="20"></circle>
                                </svg>
                                 <div class="absolute inset-0 flex flex-col items-center justify-center z-10 text-center">
                                    <div class="font-bold text-lg text-white">Total Locked</div>
                                    <div id="locked-percentage" class="text-4xl font-bold text-gray-300">46.6%</div>
                                </div>
                            </div>
                            <div class="flex items-center space-x-6 mt-4 text-sm">
                                <div class="flex items-center">
                                    <span class="w-3 h-3 rounded-full bg-emerald-400 mr-2"></span>
                                    <span>Locked PNET<br><strong class="text-white">46.6%</strong></span>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-3 h-3 rounded-full bg-gray-700 mr-2"></span>
                                    <span>Circulating<br><strong class="text-white">53.4%</strong></span>
                                </div>
                            </div>

                            <!-- Main Vault Grid -->
                            <div class="vault-grid-fluid mt-8 w-full max-w-lg">
                                <div class="vault-card p-3 bg-slate-800 border-2 border-blue-400 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="25M LOCK PNET Vault" data-details="The largest lock-up vault, containing 25 million PNET tokens to demonstrate founder and team commitment." data-link="https://legacy.vestige.fi/vault/3213110046">
                                    <svg class="w-10 h-10 mx-auto text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                                    <p class="text-sm font-bold mt-1">25M LOCK</p>
                                    <p class="text-xs font-semibold text-blue-400">PNET</p>
                                </div>
                                <div class="vault-card p-3 bg-slate-800 border-2 border-purple-500 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="15M LOCK PNET Vault" data-details="A significant 15 million PNET tokens are locked in this vault as part of the long-term supply strategy." data-link="https://legacy.vestige.fi/vault/3218236689">
                                    <svg class="w-10 h-10 mx-auto text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                                    <p class="text-sm font-bold mt-1">15M LOCK</p>
                                    <p class="text-xs font-semibold text-purple-500">PNET</p>
                                </div>
                                <div class="vault-card p-3 bg-slate-800 border-2 border-yellow-400 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="ALGO-PNET Vault" data-details="This vault contains Algorand and ProfitNet tokens. It is part of our cross-chain liquidity initiative." data-link="https://legacy.vestige.fi/vault/3219570337">
                                    <svg class="w-10 h-10 mx-auto text-yellow-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>
                                    <p class="text-sm font-bold mt-1">ALGO-</p>
                                    <p class="text-xs font-semibold text-yellow-400">PNET</p>
                                </div>
                                <div class="vault-card p-3 bg-slate-800 border-2 border-orange-400 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="BONEZ-PNET Vault" data-details="Liquidity pool vault for the BONEZ and PNET pair, fostering a stable trading environment." data-link="https://legacy.vestige.fi/vault/3229590975">
                                    <svg class="w-10 h-10 mx-auto text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>
                                    <p class="text-sm font-bold mt-1">BONEZ-</p>
                                    <p class="text-xs font-semibold text-orange-400">PNET</p>
                                </div>
                                <div class="vault-card p-3 bg-slate-800 border-2 border-green-400 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="DDAO - $PNET Vault" data-details="Liquidity pool vault for the DDAO and PNET pair." data-link="https://legacy.vestige.fi/vault/3238174366">
                                    <svg class="w-10 h-10 mx-auto text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>
                                    <p class="text-sm font-bold mt-1">DDAO-</p>
                                    <p class="text-xs font-semibold text-green-400">PNET</p>
                                </div>
                                <div class="vault-card p-3 bg-slate-800 border-2 border-red-500 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="69420-PNET Vault" data-details="Liquidity pool vault for the 69420 and PNET pair." data-link="https://legacy.vestige.fi/vault/3241289614">
                                   <svg class="w-10 h-10 mx-auto text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>
                                    <p class="text-sm font-bold mt-1">69420-</p>
                                    <p class="text-xs font-semibold text-red-500">PNET</p>
                                </div>
                                <!-- NEW: BKIND-PNET Vault (Moved Up) -->
                                <div class="vault-card p-3 bg-slate-800 border-2 border-pink-500 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="BKIND-PNET Vault" data-details="Locked for 10 years, PNET long term partner." data-link="https://legacy.vestige.fi/vault/3242466222">
                                    <svg class="w-10 h-10 mx-auto text-pink-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                                    <p class="text-sm font-bold mt-1">BKIND-</p>
                                    <p class="text-xs font-semibold text-pink-500">PNET</p>
                                </div>
                                <!-- NEW: MAX-PNET Vault (Moved Up) -->
                                <div class="vault-card p-3 bg-slate-800 border-2 border-cyan-500 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="MAX-PNET Vaults" data-details="Locked for 5 years, PNET long term partner." data-link="https://discord.com/channels/1419385127896748247/1419421938408886392/1424913503810228297">
                                    <svg class="w-10 h-10 mx-auto text-cyan-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                                    <p class="text-sm font-bold mt-1">MAX-</p>
                                    <p class="text-xs font-semibold text-cyan-500">PNET</p>
                                </div>
                            </div>
                             <!-- Partnership Vaults Toggle Button -->
                            <button id="partnership-toggle-btn" class="mt-4 w-full max-w-lg flex items-center justify-between p-3 bg-slate-800 border-2 border-indigo-500 rounded-lg text-center cursor-pointer hover:border-indigo-400 transition-colors" aria-expanded="false" aria-controls="partnership-vaults">
                                <div class="flex items-center">
                                    <svg class="w-8 h-8 mr-3 text-indigo-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
                                    <span class="text-sm font-bold text-white">Partnership Vaults</span>
                                </div>
                                <svg class="chevron w-6 h-6 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </button>
                            
                            <!-- Hidden Partnership Vaults Container -->
                            <div id="partnership-vaults" class="w-full max-w-lg">
                                <div class="vault-grid-fluid">
                                    <div class="vault-card p-3 bg-slate-800 border-2 border-slate-600 hover:border-cyan-400 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="DeckardCain 1M PNET Vault" data-details="A special vault for the DeckardCain partnership, locking 1 million PNET tokens to ensure long-term collaboration." data-link="https://legacy.vestige.fi/vault/3224248640">
                                        <svg class="w-10 h-10 mx-auto text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                                        <p class="text-sm font-bold mt-1">1M PNET</p>
                                        <p class="text-xs font-semibold text-slate-400">DeckardCain</p>
                                    </div>
                                    <div class="vault-card p-3 bg-slate-800 border-2 border-slate-600 hover:border-pink-500 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="AETF 1M PNET Vault" data-details="This vault secures 1 million PNET for the Asset Enhancement Trust Fund, dedicated to ecosystem growth." data-link="https://legacy.vestige.fi/vault/3223774803">
                                        <svg class="w-10 h-10 mx-auto text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                                        <p class="text-sm font-bold mt-1">1M PNET</p>
                                        <p class="text-xs font-semibold text-slate-400">AETF</p>
                                    </div>
                                    <div class="vault-card p-3 bg-slate-800 border-2 border-slate-600 hover:border-green-400 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="GoldenBillion 1M PNET Vault" data-details="A partnership vault with GoldenBillion, locking 1 million PNET to solidify the alliance." data-link="https://legacy.vestige.fi/vault/3223785015">
                                        <svg class="w-10 h-10 mx-auto text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                                        <p class="text-sm font-bold mt-1">1M PNET</p>
                                        <p class="text-xs font-semibold text-slate-400">GoldenBillion</p>
                                    </div>
                                    <div class="vault-card p-3 bg-slate-800 border-2 border-slate-600 hover:border-red-500 rounded-lg text-center cursor-pointer" role="button" tabindex="0" data-title="Tife 1M PNET Vault" data-details="Vault dedicated to the Tife project collaboration, securing 1 million PNET tokens." data-link="https://legacy.vestige.fi/vault/3223655839">
                                        <svg class="w-10 h-10 mx-auto text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                                        <p class="text-sm font-bold mt-1">1M PNET</p>
                                        <p class="text-xs font-semibold text-slate-400">Tife</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- END: INTEGRATED TOKENOMICS SECTION -->

        <!-- START: Integrated Dashboard Section -->
        <section id="dashboard" class="py-16 bg-gray-900/50">
            <div class="dashboard-container">
                <!-- Top holders -->
                <section class="holders">
                     <div class="text-center mb-12">
                        <h2 class="text-3xl md:text-4xl font-bold text-white">The Oceanic Hierarchy</h2>
                        <p class="text-gray-400 mt-2 max-w-2xl mx-auto">Witness the great oceanic food chain. Ascend from the foundational Plankton to become a legendary Leviathan. In these depths, only the strong survive and rise to the top.</p>
                    </div>
                    <div class="dashboard-card p-4 md:p-6">
                        <!-- NEW: Leaderboard List Container with Scroll -->
                        <div id="leaderboard-list" class="space-y-2 max-h-[500px] overflow-y-auto custom-scrollbar pr-2">
                            <!-- Leaderboard items will be injected here by JavaScript -->
                        </div>
                    </div>
                </section>
            </div>
        </section>
        <!-- END: Integrated Dashboard Section -->

        <!-- FAQ Section -->
        <section id="faq" class="py-16">
            <div class="container mx-auto px-6 max-w-4xl">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">Frequently Asked Questions</h2>
                </div>
                <div class="space-y-4" id="faq-accordion">
                    <!-- FAQ Items from original landing page -->
                    <div class="card-bg rounded-lg"><button class="faq-question w-full flex justify-between items-center text-left p-6"><span class="text-lg font-semibold text-white">What is Profitnet?</span><svg class="w-6 h-6 text-gray-400 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><div class="faq-answer px-6 pb-6 text-gray-400"><p>Profitnet is a crypto project on the Algorand blockchain. Our mission is to create real-world utility for our token ($PNET) by bridging Web2.0 earning platforms with Web3.0 technology.</p></div></div>
                    <div class="card-bg rounded-lg"><button class="faq-question w-full flex justify-between items-center text-left p-6"><span class="text-lg font-semibold text-white">How do I start earning?</span><svg class="w-6 h-6 text-gray-400 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><div class="faq-answer px-6 pb-6 text-gray-400"><p>Navigate to our "Earn Now" section, choose a partner platform, and sign up using our referral link. This ensures a portion of the kickbacks support the Profitnet project.</p></div></div>
                    <div class="card-bg rounded-lg"><button class="faq-question w-full flex justify-between items-center text-left p-6"><span class="text-lg font-semibold text-white">Why Algorand?</span><svg class="w-6 h-6 text-gray-400 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button><div class="faq-answer px-6 pb-6 text-gray-400"><p>Algorand is a powerful, secure, and scalable blockchain known for its low fees and high speed. It's also a carbon-negative network, which aligns with our vision for a sustainable ecosystem.</p></div></div>
                </div>
            </div>
        </section>

        <!-- Community Section -->
        <section id="community" class="py-16 bg-gray-900/50">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-bold text-white">Join the Conversation</h2>
                <p class="text-gray-400 mt-2 max-w-2xl mx-auto">Stay up to date with the latest news, announcements, and connect with the Profitnet community.</p>
                <div class="flex justify-center space-x-6 mt-8">
                    <a href="https://x.com/TestedProfit" target="_blank" class="text-gray-400 hover:text-white transition-colors"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></a>
                    <a href="https://discord.com/invite/aWG3MJGR" target="_blank" class="text-gray-400 hover:text-white transition-colors"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24"><path d="M21.533 3.237a2.034 2.034 0 0 0-1.83-1.168H4.297c-.836 0-1.55.55-1.83 1.348a2.013 2.013 0 0 0-.06.63v12.83c0 .28.06.55.12.812a1.94 1.94 0 0 0 1.83 1.288h12.08l-.55-1.83 1.34-1.22h1.83a1.94 1.94 0 0 0 1.89-1.89V3.867a2.013 2.013 0 0 0-.06-.63zM8.647 14.23h-1.3v-4.02h1.3zm6.706 0h-1.3v-4.02h1.3zm-3.353-6.424a1.55 1.55 0 1 1 0 3.1 1.55 1.55 0 0 1 0-3.1zm-3.353 0a1.55 1.55 0 1 1 0 3.1 1.55 1.55 0 0 1 0-3.1z"></path></svg></a>
                </div>
            </div>
        </section>

        <!-- NEW: Footer / Token Info Section -->
        <footer class="py-12 bg-slate-900 border-t border-slate-800">
            <div class="container mx-auto px-6 flex flex-col items-center">
                <div id="token" class="max-w-4xl w-full mx-auto card-bg rounded-2xl p-6 md:p-8 text-center">
                    <h2 class="text-2xl font-bold text-white mb-4">The $PNET Token</h2>
                        <div class="mb-6">
                        <p class="text-gray-400 uppercase text-sm font-semibold">Algorand Standard Asset (ASA) ID</p>
                        <p class="text-xl lg:text-2xl font-mono text-white tracking-wider bg-gray-900/50 rounded-lg py-2 px-4 inline-block mt-2 border border-gray-700">3169177585</p>
                    </div>
                    <div class="flex flex-wrap justify-center gap-4">
                        <a href="https://explorer.perawallet.app/asset/3169177585/" target="_blank" rel="noopener noreferrer" class="cta-button text-white font-semibold px-6 py-2 rounded-lg text-sm">
                            Pera Explorer
                        </a>
                            <a href="https://vestige.fi/asset/3169177585" target="_blank" rel="noopener noreferrer" class="cta-button text-white font-semibold px-6 py-2 rounded-lg text-sm">
                            Vestige Tracker
                        </a>
                        <!-- Removed Tools Button -->
                    </div>
                </div>
                <p class="text-gray-500 mt-8 text-sm">&copy; 2024 Profitnet. All rights reserved.</p>
            </div>
        </footer>

        <!-- Vault Modal -->
        <div id="vault-modal" class="modal fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[9999] hidden opacity-0" aria-labelledby="modal-title" role="dialog" aria-modal="true">
            <div id="modal-backdrop" class="fixed inset-0"></div>
            <div id="modal-panel" class="bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-700 z-10 transform scale-95 opacity-0">
                <div class="flex items-start justify-between">
                    <h3 id="modal-title" class="text-xl font-bold text-white">Vault Details</h3>
                    <button id="close-modal-btn" class="text-gray-400 hover:text-white transition-colors" aria-label="Close vault details modal">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
                <div class="mt-4">
                    <p id="modal-details" class="text-gray-300">Details about the vault will appear here.</p>
                </div>
                <div class="mt-6 flex justify-end items-center space-x-4">
                        <button id="close-modal-btn-2" class="px-4 py-2 bg-slate-600 hover:bg-slate-700 text-white rounded-lg font-semibold transition-colors" aria-label="Close vault details modal">Close</button>
                    <a id="modal-link" href="#" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 focus:ring-offset-slate-800">
                        View Vault / Proof
                        <svg class="w-4 h-4 ml-2 -mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg>
                    </a>
                </div>
            </div>
        </div>

    </main>
    
    <script>
    function initializeProfitnetSection() {
        if (window.profitnetInitialized) {
            console.log("Profitnet section already initialized.");
            return;
        }
        window.profitnetInitialized = true;
        console.log("Initializing Profitnet section...");

        try {
            const $ = sel => document.querySelector(sel);
            const fmtInt = n => Number(n || 0).toLocaleString(undefined, { maximumFractionDigits: 0 });
            const shortAddr = a => a && a.length > 10 ? `${a.slice(0, 6)}â€¦${a.slice(-6)}` : a || 'â€”';

            const CONFIG = { ASA_ID: 3169177585, INDEXER_BASE: 'https://mainnet-idx.algonode.cloud', REFRESH_MS: 60000, TOP_N: 500 };
            async function getJSON(url) { const r = await fetch(url, { headers: { 'Accept': 'application/json' } }); if (!r.ok) throw new Error(`${r.status} ${r.statusText}`); return r.json(); }
            async function indexerTopBalances(assetId, topN = CONFIG.TOP_N) { const url = `${CONFIG.INDEXER_BASE}/v2/assets/${assetId}/balances?limit=${topN}`; const j = await getJSON(url).catch(() => null); return j && j.balances ? j.balances.filter(b => !b['is-frozen']).sort((a, b) => b.amount - a.amount) : []; }
            
            const oceanicRanks = [
                { name: 'Vault of the Deep', emoji: 'ðŸ”±' }, { name: 'Vault of the Abyss', emoji: 'ðŸ›ï¸' }, { name: 'Orca', emoji: 'âš«ï¸âšªï¸' }, { name: 'Sperm Whale Bull', emoji: 'ðŸ³' }, { name: 'Sperm Whale (female & young)', emoji: 'ðŸ‹' }, { name: 'Colossal Squid', emoji: 'ðŸ’ªðŸ¦‘' }, { name: 'Giant Squid', emoji: 'ðŸ¦‘' }, { name: 'Oarfish', emoji: 'ðŸŽ—ï¸' }, { name: 'Gulper Eel', emoji: 'ðŸ˜²' }, { name: 'Anglerfish', emoji: 'ðŸ’¡' },
                { name: 'Blue Whale', emoji: 'ðŸ‹' }, { name: 'Fin Whale', emoji: 'ðŸ‹' }, { name: 'Bowhead Whale', emoji: 'ðŸ‹' }, { name: 'Gray Whale', emoji: 'ðŸŒ«ï¸' }, { name: 'Humpback Whale', emoji: 'ðŸ‹' }, { name: 'Beluga Whale', emoji: 'âšªï¸' }, { name: 'Narwhal', emoji: 'ðŸ¦„' }, { name: 'Beaked Whale', emoji: 'ðŸ‹' }, { name: 'False Killer Whale', emoji: 'ðŸ¤«' }, { name: 'Pilot Whale', emoji: 'âœˆï¸' },
                { name: 'Dusky Dolphin', emoji: 'ðŸ¤¸' }, { name: 'Spinner Dolphin', emoji: 'ðŸ”„' }, { name: 'Bottlenose Dolphin', emoji: 'ðŸ¬' }, { name: 'Elephant Seal (bull)', emoji: 'ðŸ¦­' }, { name: 'Elephant Seal (female)', emoji: 'ðŸ¦­' }, { name: 'Leopard Seal', emoji: 'ðŸ†' }, { name: 'Harbor Seal', emoji: 'ðŸ¦­' }, { name: 'Fur Seal', emoji: 'ðŸ¦­' }, { name: 'Sea Lion', emoji: 'ðŸ¦­' }, { name: 'Sea Otter', emoji: 'ðŸ¦¦' },
                { name: 'Cooperative Shark Groups', emoji: 'ðŸ¦ˆðŸ¤' }, { name: 'Schooling Sharks', emoji: 'ðŸ¦ˆðŸ¦ˆ' }, { name: 'Apex Great White', emoji: 'ðŸ‘‘ðŸ¦ˆ' }, { name: 'Great White Shark (adult)', emoji: 'ðŸ¦ˆ' }, { name: 'Great White Shark (juvenile)', emoji: 'ðŸ¦ˆ' }, { name: 'Greenland Shark', emoji: 'ðŸ‡¬ðŸ‡±' }, { name: 'Whale Shark', emoji: 'ðŸŒŒ' }, { name: 'Basking Shark', emoji: 'ðŸ˜®' }, { name: 'Oceanic Whitetip Shark', emoji: 'âšª' }, { name: 'Bull Shark', emoji: 'ðŸ‚' },
                { name: 'Tiger Shark', emoji: 'ðŸ…' }, { name: 'Mako Shark', emoji: 'ðŸ’¨' }, { name: 'Hammerhead Shark', emoji: 'ðŸ”¨' }, { name: 'Lemon Shark', emoji: 'ðŸ‹' }, { name: 'Reef Shark', emoji: 'ðŸï¸' }, { name: 'Thresher Shark', emoji: 'ðŸŒ¾' }, { name: 'Blue Shark', emoji: 'ðŸ’™' }, { name: 'Sandbar Shark', emoji: 'ðŸ–ï¸' }, { name: 'Blacktip Reef Shark', emoji: 'âš«' }, { name: 'Dogfish Shark', emoji: 'ðŸ¶' },
                { name: 'Bonito', emoji: 'ðŸŸ' }, { name: 'Mackerel', emoji: 'ðŸŸ' }, { name: 'Grouper', emoji: 'ðŸ ' }, { name: 'Sea Bass', emoji: 'ðŸ ' }, { name: 'Red Snapper', emoji: 'ðŸ ' }, { name: 'Haddock', emoji: 'ðŸŽ£' }, { name: 'Cod', emoji: 'ðŸŽ£' }, { name: 'Halibut', emoji: 'ðŸ ' }, { name: 'Sole', emoji: 'ðŸ ' }, { name: 'Flounder', emoji: 'ðŸ ' },
                { name: 'Sea Cucumber', emoji: 'ðŸ¥’' }, { name: 'Crown-of-Thorns Starfish', emoji: 'ðŸ‘‘â­' }, { name: 'Starfish', emoji: 'â­' }, { name: 'Sea Urchin', emoji: 'ðŸŒµ' }, { name: 'Horseshoe Crab', emoji: 'ðŸ›¡ï¸' }, { name: 'Crabs', emoji: 'ðŸ¦€' }, { name: 'Lobster', emoji: 'ðŸ¦ž' }, { name: 'Octopus', emoji: 'ðŸ™' }, { name: 'Cuttlefish', emoji: 'ðŸ¦‘' }, { name: 'Squid (juveniles)', emoji: 'ðŸ¦‘' },
                { name: 'Triggerfish', emoji: 'ðŸ”«' }, { name: 'Parrotfish', emoji: 'ðŸ¦œ' }, { name: 'Surgeonfish (tang)', emoji: 'ðŸ ' }, { name: 'Angelfish', emoji: 'ðŸ‘¼' }, { name: 'Butterflyfish', emoji: 'ðŸ¦‹' }, { name: 'Filefish', emoji: 'ðŸ ' }, { name: 'Blennies', emoji: 'ðŸ ' }, { name: 'Wrasse', emoji: 'ðŸ ' }, { name: 'Damselfish', emoji: 'ðŸ ' }, { name: 'Gobies', emoji: 'ðŸ ' },
                { name: 'Lanternfish', emoji: 'ðŸ’¡' }, { name: 'Mysid Shrimp', emoji: 'ðŸ¦' }, { name: 'Prawn', emoji: 'ðŸ¤' }, { name: 'Shrimp', emoji: 'ðŸ¦' }, { name: 'Sprats', emoji: 'ðŸŸ' }, { name: 'Flying Fish', emoji: 'âœˆï¸' }, { name: 'Silversides', emoji: 'ðŸ¥ˆ' }, { name: 'Herring', emoji: 'ðŸŸ' }, { name: 'Sardines', emoji: 'ðŸ¥«' }, { name: 'Anchovies', emoji: 'ðŸŸ' },
                { name: 'Larval Fish', emoji: 'ðŸ¼' }, { name: 'Jellyfish larvae', emoji: 'ðŸ¼' }, { name: 'Arrow Worms', emoji: 'ðŸ¹' }, { name: 'Krill', emoji: 'ðŸ¦' }, { name: 'Copepods', emoji: 'ðŸ¦' }, { name: 'Zooplankton', emoji: 'ðŸ”¬' }, { name: 'Dinoflagellates', emoji: 'âœ¨' }, { name: 'Diatoms', emoji: 'ðŸ”¬' }, { name: 'Cyanobacteria', emoji: 'ðŸ¦ ' }, { name: 'Phytoplankton', emoji: 'ðŸŒ±' }
            ];

            function rankTierForIndex(i) {
                if (i >= 0 && i < oceanicRanks.length) { return { key: `rank_${i + 1}`, ...oceanicRanks[i] }; }
                return { key: 'plankton', name: 'Phytoplankton', emoji: 'ðŸŒ±' };
            }

            const state = { decimals: 6, holders: [] };

            function renderLeaderboard() {
                const list = $('#leaderboard-list');
                if (!list) return;
                if (!state.holders.length) {
                    list.innerHTML = '<div class="text-center py-8 text-gray-400">Loading leaderboard... <i class="fas fa-spinner fa-spin"></i></div>';
                    return;
                }
                
                let listHTML = '';
                const topColors = {
                    0: { bg: 'bg-amber-500/10', border: 'border-amber-400', text: 'text-amber-400', icon: '<i class="fas fa-crown text-amber-400"></i>' },
                    1: { bg: 'bg-slate-400/10', border: 'border-slate-400', text: 'text-slate-300', icon: '<i class="fas fa-medal text-slate-400"></i>' },
                    2: { bg: 'bg-orange-600/10', border: 'border-orange-600', text: 'text-orange-500', icon: '<i class="fas fa-award text-orange-600"></i>' }
                };

                state.holders.slice(0, 100).forEach((h, i) => {
                    const bal = h.amount / (10 ** state.decimals);
                    const href = `https://explorer.perawallet.app/accounts/${h.address}`;
                    const t = rankTierForIndex(i);
                    const rankStyle = topColors[i] || { bg: 'bg-gray-500/5', border: 'border-transparent hover:border-gray-600', text: 'text-gray-400', icon: '' };

                    listHTML += `
                    <div class="transition-all duration-300 transform hover:scale-[1.02] flex items-center p-3 rounded-lg ${rankStyle.bg} border ${rankStyle.border}">
                        <div class="flex items-center justify-center w-12 text-xl font-bold ${rankStyle.text}">
                           #${i + 1} ${i < 3 ? rankStyle.icon : ''}
                        </div>
                        <div class="flex-1 min-w-0 mx-4">
                            <a href="${href}" target="_blank" class="font-mono text-sm text-gray-200 hover:text-emerald-400 truncate block">${shortAddr(h.address)}</a>
                            <div class="text-xs text-gray-500 truncate" title="${t.name}">${t.emoji || ''} ${t.name}</div>
                        </div>
                        <div class="text-md font-semibold text-right text-gray-100 whitespace-nowrap">${fmtInt(bal)} $PNET</div>
                    </div>`;
                });
                list.innerHTML = listHTML;
            }

            let refreshTimeout;
            async function refresh() {
                try {
                    const holders = await indexerTopBalances(CONFIG.ASA_ID);
                    if (holders && holders.length) state.holders = holders;
                    renderLeaderboard();
                } catch (e) {
                    console.error('Refresh error', e);
                    const list = $('#leaderboard-list');
                    if (list) list.innerHTML = '<div class="text-center py-8 text-red-400">Failed to load leaderboard data.</div>';
                } finally {
                    if (refreshTimeout) clearTimeout(refreshTimeout);
                    refreshTimeout = setTimeout(refresh, CONFIG.REFRESH_MS);
                }
            }
            
            renderLeaderboard();
            refresh();

            document.querySelectorAll('#profitnet-section-wrapper a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });

            const faqAccordion = document.getElementById('faq-accordion');
            if (faqAccordion) {
                const questions = faqAccordion.querySelectorAll('.faq-question');
                questions.forEach(question => {
                    question.addEventListener('click', () => {
                        const answer = question.nextElementSibling;
                        const icon = question.querySelector('svg');
                        const isOpen = answer.classList.contains('open');

                        questions.forEach(otherQ => {
                            otherQ.nextElementSibling.classList.remove('open');
                            otherQ.nextElementSibling.style.maxHeight = null;
                            if (otherQ.querySelector('svg')) otherQ.querySelector('svg').classList.remove('rotate-180');
                        });

                        if (!isOpen) {
                            answer.classList.add('open');
                            answer.style.maxHeight = answer.scrollHeight + "px";
                            if (icon) icon.classList.add('rotate-180');
                        }
                    });
                });
            }

            /* --- NEW TOKENOMICS SCRIPT --- */
            // 1. Dynamic Countdown Timer
            const countdownTimerEl = document.getElementById('countdown-timer');
            if (countdownTimerEl) {
                const unlockDate = new Date('2026-09-01T00:00:00Z').getTime();
                const updateCountdown = () => {
                    const now = new Date().getTime();
                    const distance = unlockDate - now;
                    if (distance < 0) {
                        countdownTimerEl.innerHTML = '<div class="text-lg font-bold text-green-400">Supply Unlocked!</div>';
                        if (countdownInterval) clearInterval(countdownInterval);
                        return;
                    }
                    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                    document.getElementById('days').innerText = days;
                    document.getElementById('hours').innerText = hours.toString().padStart(2, '0');
                    document.getElementById('minutes').innerText = minutes.toString().padStart(2, '0');
                    document.getElementById('seconds').innerText = seconds.toString().padStart(2, '0');
                };
                const countdownInterval = setInterval(updateCountdown, 1000);
                updateCountdown();
            }

            // 2. Dynamic Donut Chart
            const progressCircle = document.getElementById('donut-progress-circle');
            const percentageEl = document.getElementById('locked-percentage');
            if (progressCircle && percentageEl) {
                const radius = progressCircle.r.baseVal.value;
                const circumference = 2 * Math.PI * radius;
                const percentage = parseFloat(percentageEl.textContent);

                progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
                progressCircle.style.strokeDashoffset = circumference;
                
                setTimeout(() => {
                    const offset = circumference - (percentage / 100) * circumference;
                    progressCircle.style.strokeDashoffset = offset;
                }, 100);
            }

            // 3. Partnership Vaults Toggle
            const partnershipToggleBtn = document.getElementById('partnership-toggle-btn');
            const partnershipVaultsContainer = document.getElementById('partnership-vaults');
            if (partnershipToggleBtn && partnershipVaultsContainer) {
                partnershipToggleBtn.addEventListener('click', () => {
                    const isExpanded = partnershipToggleBtn.getAttribute('aria-expanded') === 'true';
                    partnershipToggleBtn.setAttribute('aria-expanded', !isExpanded);
                    partnershipVaultsContainer.classList.toggle('open');
                });
            }

            // 4. Modal Logic
            const modal = document.getElementById('vault-modal');
            const tokenomicsContainer = document.getElementById('profitnet-tokenomics-container');
            const vaultCards = tokenomicsContainer ? Array.from(tokenomicsContainer.querySelectorAll('.vault-card')) : [];
            
            if (modal && vaultCards.length) {
                const modalTitle = modal.querySelector('#modal-title');
                const modalDetails = modal.querySelector('#modal-details');
                const modalLink = modal.querySelector('#modal-link');
                const closeModalBtns = modal.querySelectorAll('#close-modal-btn, #close-modal-btn-2, #modal-backdrop');
                const modalPanel = modal.querySelector('#modal-panel');
                let previouslyFocusedElement = null;

                const openModal = (card) => {
                    const title = card.getAttribute('data-title');
                    const details = card.getAttribute('data-details');
                    const link = card.getAttribute('data-link');
                    
                    if (!title) return;

                    previouslyFocusedElement = document.activeElement;

                    modalTitle.textContent = title;
                    modalDetails.textContent = details;
                    modalLink.href = link;
                    
                    modal.classList.remove('hidden');
                    setTimeout(() => {
                        modal.classList.remove('opacity-0');
                        modalPanel.classList.remove('scale-95', 'opacity-0');
                        modal.querySelector('button').focus();
                    }, 10);
                };
                
                const closeModal = () => {
                    modalPanel.classList.add('scale-95', 'opacity-0');
                    modal.classList.add('opacity-0');
                    setTimeout(() => {
                        modal.classList.add('hidden');
                        if (previouslyFocusedElement) {
                            previouslyFocusedElement.focus();
                        }
                    }, 300);
                };

                vaultCards.forEach(card => {
                    card.addEventListener('click', () => openModal(card));
                    card.addEventListener('keydown', (event) => {
                        if (event.key === 'Enter' || event.key === ' ') {
                            event.preventDefault();
                            openModal(card);
                        }
                    });
                });

                closeModalBtns.forEach(btn => {
                    btn.addEventListener('click', closeModal);
                });

                document.addEventListener('keydown', (event) => {
                    if (event.key === 'Escape' && !modal.classList.contains('hidden')) {
                        closeModal();
                    }
                });
            }

        } catch (e) {
            console.error("Error initializing Profitnet section:", e);
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeProfitnetSection);
    } else {
        initializeProfitnetSection();
    }

    document.addEventListener('shopify:section:load', initializeProfitnetSection);
    </script>
</div>
