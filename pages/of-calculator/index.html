<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Profit & Tax Dashboard | Profitnet Financial Tools</title>
    <meta name="description" content="Real-time profit and tax projection dashboard. Calculate gross revenue, expenses, and net profit margins instantly.">
    
    <!-- Tailwind CSS (via CDN for instant functionality) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

    <!-- Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#0A091B',
                        teal: '#2DD4BF',
                        emerald: '#10B981',
                        blue: '#60A5FA',
                        danger: '#EF4444'
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #0A091B;
            color: #E5E7EB;
            -webkit-font-smoothing: antialiased;
        }

        /* Custom Glow Effects */
        .hero-glow {
            background: radial-gradient(circle at 30% 20%, rgba(45, 212, 191, 0.15) 0%, transparent 60%),
                        radial-gradient(circle at 70% 80%, rgba(96, 165, 250, 0.1) 0%, transparent 60%);
            will-change: opacity;
        }

        .bg-grid-pattern {
            background-image: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                              linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 2.5rem 2.5rem;
        }

        /* UI Polish */
        .glass-panel {
            background: rgba(17, 24, 39, 0.7);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Mobile Optimization: Prevent auto-zoom on inputs */
        input[type="text"], input[type="number"] {
            font-size: 16px; 
        }

        /* Remove spin buttons from number inputs */
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        /* Smooth Mobile Transitions */
        #mobile-menu {
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
        }
    </style>
</head>
<body class="overflow-x-hidden relative selection:bg-teal-500/30 selection:text-teal-200">

    <!-- Background -->
    <div class="fixed inset-0 z-0 pointer-events-none">
        <div class="absolute inset-0 bg-grid-pattern opacity-40"></div>
        <div class="absolute inset-0 hero-glow animate-pulse"></div>
    </div>

    <!-- Navigation -->
    <header class="fixed w-full top-0 z-50 bg-[#0A091B]/90 backdrop-blur-md border-b border-white/5">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            
            <!-- Logo -->
            <a href="#" class="flex items-center space-x-3 group">
                <img src="https://emerald-urgent-cuckoo-166.mypinata.cloud/ipfs/bafybeibelhobbfhgcur4j5qmnzvnjlfkpwawy3rttzdnfr4t22ikcj263m" 
                     class="h-8 w-8 transition-transform group-hover:rotate-12" 
                     alt="Profitnet Logo">
                <span class="text-xl font-bold tracking-tight text-white">Profitnet</span>
            </a>
            
            <!-- Desktop Nav -->
            <nav class="hidden lg:flex space-x-10 items-center">
                <a href="#" class="text-sm font-bold text-white hover:text-teal transition-colors">HOME</a>
                <a href="#" class="text-xs font-bold uppercase tracking-widest text-teal hover:text-emerald-300 transition-colors">Landmarks</a>
                <button class="px-6 py-2 rounded-full border border-teal-500/30 text-[10px] font-black text-teal-400 hover:bg-teal-500/10 transition-all uppercase tracking-[0.2em] shadow-[0_0_15px_rgba(45,212,191,0.1)]">
                    $PNET Asset Dashboard
                </button>
            </nav>

            <!-- Mobile Menu Button -->
            <button id="menu-btn" class="lg:hidden text-white p-2 hover:bg-white/5 rounded-lg">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="12" x2="20" y2="12"/><line x1="4" y1="6" x2="20" y2="6"/><line x1="4" y1="18" x2="20" y2="18"/></svg>
            </button>
        </div>

        <!-- Mobile Menu Overlay -->
        <div id="mobile-menu" class="fixed inset-0 bg-[#0A091B]/98 backdrop-blur-xl z-40 lg:hidden flex flex-col items-center justify-center space-y-8 opacity-0 pointer-events-none -translate-y-full">
            <button id="close-menu-btn" class="absolute top-6 right-6 text-white p-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
            </button>
            <a href="#" class="text-xl font-black text-white uppercase tracking-widest">Home</a>
            <a href="#" class="text-xl font-black text-teal uppercase tracking-widest">Landmarks</a>
            <a href="#" class="text-xl font-black text-white uppercase tracking-widest">$PNET Dashboard</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="relative z-10 pt-32 pb-20 container mx-auto px-6 max-w-7xl">
        
        <!-- Page Header -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-10 space-y-6 md:space-y-0">
            <div>
                <h1 class="text-4xl md:text-5xl font-black text-white tracking-tight">
                    Profit <span class="text-teal">&</span> Tax
                </h1>
                <p class="text-gray-400 mt-2 max-w-lg">
                    Real-time projection of your nonprofit or business financials.
                </p>
            </div>
            <div class="flex gap-3 w-full md:w-auto">
                <button onclick="app.reset()" class="flex-1 md:flex-none justify-center flex items-center gap-2 px-4 py-3 md:py-2 rounded-lg bg-white/5 hover:bg-white/10 text-sm font-semibold transition-colors border border-white/5 text-gray-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/></svg>
                    Reset
                </button>
                <button onclick="window.print()" class="flex-1 md:flex-none justify-center flex items-center gap-2 px-4 py-3 md:py-2 rounded-lg bg-teal hover:bg-teal/90 text-primary text-sm font-bold transition-colors shadow-[0_0_20px_rgba(45,212,191,0.3)]">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
                    Save Report
                </button>
            </div>
        </div>

        <!-- Top Stats Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
            
            <!-- Gross Revenue -->
            <div class="glass-panel rounded-xl p-6 relative overflow-hidden group">
                <div class="absolute right-0 top-0 p-4 opacity-10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
                </div>
                <p class="text-sm font-bold text-gray-500 uppercase tracking-wider">Gross Revenue</p>
                <p class="text-3xl font-black text-white mt-1" id="display-revenue">$0.00</p>
                <div class="mt-4 h-1 w-full bg-gray-800 rounded-full overflow-hidden">
                    <div class="h-full bg-blue-500 w-full"></div>
                </div>
            </div>

            <!-- Total Expenses -->
            <div class="glass-panel rounded-xl p-6 relative overflow-hidden group">
                <div class="absolute right-0 top-0 p-4 opacity-10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"/><polyline points="17 18 23 18 23 12"/></svg>
                </div>
                <p class="text-sm font-bold text-gray-500 uppercase tracking-wider">Total Expenses</p>
                <p class="text-3xl font-black text-white mt-1" id="display-expenses">$0.00</p>
                <div class="mt-4 h-1 w-full bg-gray-800 rounded-full overflow-hidden">
                    <div id="bar-expenses" class="h-full bg-red-500 transition-all duration-500" style="width: 0%"></div>
                </div>
            </div>

            <!-- Net Profit -->
            <div class="glass-panel rounded-xl p-6 relative overflow-hidden group border-teal/30 bg-teal/5">
                <div class="absolute right-0 top-0 p-4 opacity-10 text-teal">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
                </div>
                <p class="text-sm font-bold text-teal uppercase tracking-wider">Net Profit</p>
                <p class="text-3xl font-black mt-1 text-white" id="display-profit">$0.00</p>
                <div class="flex items-center gap-2 mt-4 text-xs font-bold text-emerald-400">
                    <span class="bg-emerald-500/10 px-2 py-0.5 rounded border border-emerald-500/20" id="display-margin">
                        0.0% Margin
                    </span>
                </div>
            </div>

            <!-- Estimated Taxes -->
            <div class="glass-panel rounded-xl p-6 relative overflow-hidden group">
                <div class="absolute right-0 top-0 p-4 opacity-10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="1" x2="12" y2="23"/><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                </div>
                <p class="text-sm font-bold text-gray-500 uppercase tracking-wider">Est. Taxes</p>
                <p class="text-3xl font-black text-white mt-1" id="display-tax">$0.00</p>
                <div class="mt-4 text-xs text-gray-400">
                    Based on <span id="display-rate-text">20</span>% rate
                </div>
            </div>
        </div>

        <div class="grid lg:grid-cols-3 gap-8">
            
            <!-- LEFT: Inputs -->
            <div class="lg:col-span-2 space-y-8">
                
                <!-- Revenue Streams -->
                <section class="glass-panel rounded-2xl p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-white flex items-center gap-2">
                            <span class="w-2 h-6 bg-blue-500 rounded-full"></span>
                            Revenue Streams
                        </h3>
                        <button onclick="app.addItem('income')" class="p-2 bg-blue-500/10 hover:bg-blue-500/20 text-blue-400 rounded-lg transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                        </button>
                    </div>
                    <div id="income-list" class="space-y-3">
                        <!-- JS Injects items here -->
                    </div>
                </section>

                <!-- Expenses -->
                <section class="glass-panel rounded-2xl p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-white flex items-center gap-2">
                            <span class="w-2 h-6 bg-red-500 rounded-full"></span>
                            Expenses
                        </h3>
                        <button onclick="app.addItem('expense')" class="p-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 rounded-lg transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>
                        </button>
                    </div>
                    <div id="expense-list" class="space-y-3">
                        <!-- JS Injects items here -->
                    </div>
                </section>
            </div>

            <!-- RIGHT: Tax Controls -->
            <div class="space-y-6">
                <div class="bg-[#111827] border border-white/10 rounded-2xl p-6 sticky top-28">
                    <h3 class="text-lg font-bold text-white mb-6 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-teal"><path d="M21.21 15.89A10 10 0 1 1 8 2.83"/><path d="M22 12A10 10 0 0 0 12 2v10z"/></svg>
                        Tax Configuration
                    </h3>

                    <div class="mb-8">
                        <div class="flex justify-between mb-2">
                            <label class="text-sm text-gray-400 font-semibold">Effective Tax Rate</label>
                            <span class="text-sm font-bold text-teal"><span id="slider-val">20</span>%</span>
                        </div>
                        <input type="range" min="0" max="50" value="20" id="tax-slider"
                               oninput="app.updateTax(this.value)"
                               class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-400">
                        <div class="flex justify-between mt-2 text-xs text-gray-600">
                            <span>0%</span>
                            <span>Corp (21%)</span>
                            <span>50%</span>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <div class="p-4 rounded-xl bg-[#0A091B] border border-white/5">
                            <p class="text-xs text-gray-500 uppercase tracking-wide font-bold">Taxable Income</p>
                            <p class="text-xl font-bold text-white mt-1" id="taxable-income">$0.00</p>
                        </div>
                        
                        <div class="p-4 rounded-xl bg-[#0A091B] border border-white/5">
                            <p class="text-xs text-gray-500 uppercase tracking-wide font-bold">Tax Liability</p>
                            <p class="text-xl font-bold text-red-400 mt-1" id="tax-liability">$0.00</p>
                        </div>
                    </div>

                     <!-- Visual Breakdown -->
                     <div class="mt-8 pt-8 border-t border-white/5">
                        <p class="text-sm font-bold text-white mb-4">Distribution</p>
                        <div class="flex h-4 rounded-full overflow-hidden w-full bg-gray-800">
                          <div id="bar-segment-tax" class="bg-gray-600 h-full transition-all duration-300" style="width: 0%"></div>
                          <div id="bar-segment-exp" class="bg-red-500 h-full transition-all duration-300" style="width: 0%"></div>
                          <div id="bar-segment-profit" class="bg-teal h-full transition-all duration-300" style="width: 0%"></div>
                        </div>
                        <div class="flex items-center gap-4 mt-3 justify-center text-xs text-gray-400">
                          <div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full bg-red-500"></div> Exp</div>
                          <div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full bg-gray-600"></div> Tax</div>
                          <div class="flex items-center gap-1"><div class="w-2 h-2 rounded-full bg-teal"></div> Profit</div>
                        </div>
                      </div>
                </div>
            </div>
        </div>
    </main>

    <!-- App Logic -->
    <script>
        const app = {
            data: {
                incomes: [
                    { id: 1, label: 'Main Contract', amount: 8500 },
                    { id: 2, label: 'Consulting', amount: 1200 }
                ],
                expenses: [
                    { id: 1, label: 'Server Costs', amount: 450 },
                    { id: 2, label: 'Software Licenses', amount: 120 },
                    { id: 3, label: 'Office Lease', amount: 2000 }
                ],
                taxRate: 20
            },

            init() {
                this.renderList('income');
                this.renderList('expense');
                this.calculate();
                this.setupMobileMenu();
            },

            formatCurrency(num) {
                return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(num);
            },

            updateTax(val) {
                this.data.taxRate = parseFloat(val);
                document.getElementById('slider-val').innerText = val;
                document.getElementById('display-rate-text').innerText = val;
                this.calculate();
            },

            addItem(type) {
                const newItem = { 
                    id: Date.now(), 
                    label: type === 'income' ? 'New Revenue' : 'New Expense', 
                    amount: 0 
                };
                
                if (type === 'income') this.data.incomes.push(newItem);
                else this.data.expenses.push(newItem);
                
                this.renderList(type);
                this.calculate();
            },

            removeItem(type, id) {
                if (type === 'income') {
                    this.data.incomes = this.data.incomes.filter(i => i.id !== id);
                } else {
                    this.data.expenses = this.data.expenses.filter(i => i.id !== id);
                }
                this.renderList(type);
                this.calculate();
            },

            updateItem(type, id, field, val) {
                const list = type === 'income' ? this.data.incomes : this.data.expenses;
                const item = list.find(i => i.id === id);
                if (item) {
                    item[field] = field === 'amount' ? parseFloat(val) || 0 : val;
                    this.calculate(); // Recalculate without re-rendering list (preserves focus)
                }
            },

            renderList(type) {
                const list = type === 'income' ? this.data.incomes : this.data.expenses;
                const container = document.getElementById(`${type}-list`);
                const accentColor = type === 'income' ? 'blue' : 'red';

                if (list.length === 0) {
                    container.innerHTML = `<div class="text-center py-8 text-gray-500 italic text-sm border-2 border-dashed border-gray-800 rounded-xl">No ${type}s logged.</div>`;
                    return;
                }

                container.innerHTML = list.map(item => `
                    <div class="flex flex-col md:flex-row items-stretch md:items-center gap-4 bg-[#0A091B] p-3 rounded-xl border border-white/5 hover:border-${accentColor}-500/30 transition-all">
                        <input type="text" value="${item.label}" 
                               oninput="app.updateItem('${type}', ${item.id}, 'label', this.value)"
                               class="bg-transparent border-none text-gray-300 focus:ring-0 w-full font-medium text-base p-2 outline-none"
                               placeholder="Name">
                        <div class="flex justify-between items-center gap-4">
                            <div class="flex items-center gap-2 bg-gray-800/50 px-3 py-2 rounded-lg border border-white/5 flex-1 md:flex-none">
                                <span class="text-gray-500 text-sm">$</span>
                                <input type="number" value="${item.amount}" 
                                       oninput="app.updateItem('${type}', ${item.id}, 'amount', this.value)"
                                       class="bg-transparent border-none text-white focus:ring-0 w-full md:w-24 text-right font-bold tabular-nums text-base outline-none"
                                       placeholder="0.00">
                            </div>
                            <button onclick="app.removeItem('${type}', ${item.id})" class="text-gray-600 hover:text-red-400 transition-colors p-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
                            </button>
                        </div>
                    </div>
                `).join('');
            },

            calculate() {
                const totalInc = this.data.incomes.reduce((acc, cur) => acc + cur.amount, 0);
                const totalExp = this.data.expenses.reduce((acc, cur) => acc + cur.amount, 0);
                
                const grossProfit = totalInc - totalExp;
                const taxAmount = grossProfit > 0 ? (grossProfit * (this.data.taxRate / 100)) : 0;
                const netProfit = grossProfit - taxAmount;
                const margin = totalInc > 0 ? ((netProfit / totalInc) * 100).toFixed(1) : 0;

                // Update Text Displays
                document.getElementById('display-revenue').innerText = this.formatCurrency(totalInc);
                document.getElementById('display-expenses').innerText = this.formatCurrency(totalExp);
                document.getElementById('display-tax').innerText = this.formatCurrency(taxAmount);
                document.getElementById('taxable-income').innerText = this.formatCurrency(Math.max(grossProfit, 0));
                document.getElementById('tax-liability').innerText = this.formatCurrency(taxAmount);
                
                // Net Profit Color Logic
                const profitEl = document.getElementById('display-profit');
                profitEl.innerText = this.formatCurrency(netProfit);
                profitEl.className = `text-3xl font-black mt-1 ${netProfit >= 0 ? 'text-white' : 'text-red-400'}`;

                document.getElementById('display-margin').innerText = `${margin}% Margin`;

                // Update Visual Bars
                const expPct = totalInc > 0 ? Math.min((totalExp / totalInc) * 100, 100) : 0;
                document.getElementById('bar-expenses').style.width = `${expPct}%`;

                // Update Distribution Bars
                const totalDist = totalInc || 1; 
                document.getElementById('bar-segment-tax').style.width = `${(taxAmount/totalDist)*100}%`;
                document.getElementById('bar-segment-exp').style.width = `${(totalExp/totalDist)*100}%`;
                document.getElementById('bar-segment-profit').style.width = `${(netProfit/totalDist)*100}%`;
            },

            reset() {
                this.data.incomes = [];
                this.data.expenses = [];
                this.renderList('income');
                this.renderList('expense');
                this.calculate();
            },

            setupMobileMenu() {
                const menuBtn = document.getElementById('menu-btn');
                const closeBtn = document.getElementById('close-menu-btn');
                const menu = document.getElementById('mobile-menu');
                
                const toggle = (show) => {
                    if(show) {
                        menu.classList.remove('opacity-0', 'pointer-events-none', '-translate-y-full');
                        document.body.style.overflow = 'hidden';
                    } else {
                        menu.classList.add('opacity-0', 'pointer-events-none', '-translate-y-full');
                        document.body.style.overflow = '';
                    }
                };

                menuBtn.onclick = () => toggle(true);
                closeBtn.onclick = () => toggle(false);
            }
        };

        // Initialize App on Load
        document.addEventListener('DOMContentLoaded', () => app.init());
    </script>
</body>
</html>
